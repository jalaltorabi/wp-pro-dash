# Sakoyeaval WP Pro Dashboard
داشبورد حرفه ای وردپرس در دو نسخه وردپرس معمولی و وردپرس شبکه
# Sakoyeaval Dashboard Tools
نسخه: 1404.05.25  
تیم توسعه: Sakoyeaval Team

## معرفی
Sakoyeaval Dashboard Tools یک مجموعه ویجت و ابزار مدیریتی برای پیشخوان وردپرس است که چند گزارش کاربردی، ابزار نظارتی سبک و چند قابلیت کمکی را مستقیم داخل داشبورد سایت نمایش می دهد تا مدیریت روزمره سریع تر و شفاف تر انجام شود.

## امکانات اصلی
### 1) ویجت های پیشخوان
1. آمار افزونه ها و پوسته ها
   - نمایش تعداد افزونه ها و قالب ها
   - تفکیک وضعیت فعال و غیرفعال برای افزونه ها
   - نمای کلی سریع برای بررسی وضعیت محیط سایت

2. اطلاعات سرور و آی پی
   - نمایش اطلاعات سرور وب (Server Software)
   - نمایش نسخه MySQL
   - نمایش Hostname و IP سرور
   - نمایش IP ادمین (بازدیدکننده فعلی)
   - نمایش دامنه سایت
   - تلاش برای نمایش NS های دامنه
   - نمایش زمان فعلی سیستم

3. اخرین کاربران ثبت نامی
   - نمایش لیست اخرین کاربران ثبت نام شده
   - نمایش نقش کاربر و اطلاعات پایه برای بررسی سریع

4. اخرین مطالب منتشرشده در سایت
   - نمایش لیست اخرین پست ها (به شکل ویجت داشبورد)
   - مناسب برای کنترل روند انتشار و مرور سریع وضعیت محتوا

5. امار محتوای سایت
   - نمایش امار کلی محتوا مثل پست، برگه، دسته بندی و برچسب (بر اساس پیاده سازی ماژول)

6. لاگ ورود و خروج کاربران
   - ثبت رویداد ورود و خروج کاربران
   - ذخیره اخرین 10 لاگ برای هر کاربر
   - نمایش خلاصه لاگ ها در داشبورد (کاربر، نقش، رویداد، زمان، IP)

7. بررسی سلامت افزونه ها در سایت
   - نمایش لیست افزونه های فعال و غیرفعال
   - هشدار در صورت زیاد بودن افزونه هاي غیرفعال
   - بررسی وضعیت چند افزونه مهم (مثل WooCommerce، Elementor، Rank Math) بر اساس وجود/فعال بودن

8. ابر برچسب سایت
   - نمایش Tag Cloud برای برچسب ها در داشبورد

9. ابر دسته بندی سایت
   - نمایش Category Cloud برای دسته بندی ها در داشبورد

10. رشد محتوای سایت (4 هفته اخیر)
   - نمایش نمودار روند رشد محتوا در 4 هفته اخیر
   - استفاده از Chart.js برای نمایش نمودار داخل داشبورد

11. دفترچه یادداشت سایت
   - یادداشت اختصاصی برای همان سایت
   - ویرایشگر وردپرس داخل ویجت
   - ذخیره یادداشت با Ajax

12. چک لیست قبل از انتشار پست
   - نمایش چک لیست داخل داشبورد
   - قابلیت مدیریت ایتم های چک لیست از بخش تنظیمات

### 2) تنظیمات و پنل های مدیریتی
1. مدیریت چک لیست انتشار
   - مسیر: تنظیمات > چک لیست انتشار
   - امکان ثبت و ویرایش ایتم ها به صورت خطی (هر خط یک ایتم)
   - ذخیره ایمن همراه با nonce و محدودیت دسترسی manage_options

### 3) ابزار کمکی کتابخانه رسانه
1. نمایش فایل های حجیم کتابخانه در صفحه Media
   - افزودن متای حجم فایل در زمان اپلود/ویرایش پیوست
   - اسکن پیوست ها و نمایش لیست 21 فایل بزرگ تر (به همراه thumbnail)
   - امکان حذف سریع فایل ها فقط برای ادمین
   - نمایش در صفحه upload.php (کتابخانه رسانه)

## ذخیره سازی داده ها
- یادداشت سایت: در option با کلید `mui_site_note_text`
- ایتم های چک لیست: در option با کلید `mui_publish_checklist_items`
- لاگ ورود و خروج: در user_meta با کلید `mui_login_logs` (نگهداری 10 رویداد اخر برای هر کاربر)
- حجم فایل پیوست ها: در post_meta با کلید `_ravio_filesize`

## نصب
1. پوشه افزونه را داخل مسیر زیر قرار دهید:
   - `wp-content/plugins/Sakoyeaval-Dashboard-Tools`
2. از پیشخوان وردپرس وارد بخش افزونه ها شوید و افزونه را فعال کنید.
3. به صفحه پیشخوان بروید و ویجت ها را مشاهده کنید.

## نکات استفاده
- ویجت های داشبورد در صفحه پیشخوان نمایش داده می شوند و از بخش Screen Options قابل مدیریت هستند.
- برای چک لیست انتشار، ابتدا ایتم ها را از مسیر تنظیمات ذخیره کنید تا ویجت چک لیست دقیقا مطابق نیاز شما نمایش داده شود.
- لاگ ورود و خروج به صورت خودکار با رویدادهای wp_login و wp_logout ثبت می شود.

## سازگاری پیشنهادی
- وردپرس: نسخه هاي جدید (به دلیل استفاده از API های استاندارد داشبورد و wp_editor)
- PHP: توصیه می شود 7.4 به بالا
- مناسب برای سایت های تکی و شبکه (ثبت لاگ و ویجت ها در سطح همان سایت فعال عمل می کنند)

## امنیت
- افزونه در فایل اصلی با `ABSPATH` از اجرای مستقیم جلوگیری می کند.
- بخش تنظیمات چک لیست با nonce و سطح دسترسی manage_options محافظت شده است.
- حذف فایل های حجیم در کتابخانه رسانه فقط برای مدیر (ادمین) در نظر گرفته شده است.

## ساختار پروژه
- `dashboard-tools.php` فایل اصلی و loader ماژول ها
- `modules/` ماژول های هر ویجت و قابلیت
- `assets/js/` فایل های جاوااسکریپت (از جمله Chart.js)

## ماژول های داخل پروژه که در نسخه فعلی لود نشده اند
در پوشه modules یک فایل با نام زیر وجود دارد که در فایل اصلی include نشده است و به صورت پیشفرض اجرا نمی شود:
- `users-list-items-in-wpdash.php`
  - اضافه کردن ستون "ایدی" و "وضعیت" به لیست کاربران در wp-admin

اگر خواستید فعالش کنید، می توانید یک include مشابه سایر ماژول ها به `dashboard-tools.php` اضافه کنید.

## توسعه و مشارکت
- هر ویجت داخل یک فایل جدا در `modules/` است.
- برای افزودن ویجت جدید، یک فایل ماژول بسازید و با `wp_dashboard_setup` ثبت کنید، سپس در `dashboard-tools.php` include کنید.

## لایسنس
در این بسته، فایل لایسنس جداگانه قرار داده نشده است. اگر نیاز دارید برای انتشار عمومی گیت هاب (MIT/GPL) تنظیم شود، یک LICENSE اضافه کنید و داخل header افزونه هم مشخص کنید.
